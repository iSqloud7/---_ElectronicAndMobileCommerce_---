CREATE TABLE COUNTRIES
(
    id = BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name = VARCHAR (255),
    continent = VARCHAR (255)
);

CREATE TABLE AUTHORS
(
    id = BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name = VARCHAR (255),
    surname = VARCHAR (255),
    country_id = BIGINT REFERENCES COUNTRIES
);

CREATE TABLE BOOKS
(
    id = BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name = VARCHAR (255),
    category = VARCHAR (255),
    author_id = BIGINT REFERENCES AUTHORS,
    available_copies = INTEGER
);

CREATE TABLE WISHLISTS
(
    id = BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
);

CREATE TABLE BOOKS_WISHLISTS
(
    book_id = BIGINT REFERENCES BOOKS ON UPDATE CASCADE ON DELETE CASCADE,
    wishlist_id = BIGINT REFERENCES BOOKS ON UPDATE CASCADE ON DELETE CASCADE,
    PRIMARY KEY (book_id, wishlist_id)
);

CREATE TABLE USERS
(
    id = BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username = VARCHAR (255),
    password = VARCHAR (255),
    name = VARCHAR (255),
    surname = VARCHAR (255),
    role = VARCHAR (255),
    wishlist_id = BIGINT REFERENCES WISHLISTS
);